import{B as e,_ as t,a as r,v as c,k as n,D as a,E as u,u as o,h as p,c as s,d as i,y as v,i as d,G as l,F as _,H as m,q as h,b,w as g,M as w,e as k,t as f,J as $,U as y,N as I,O as A}from"./index.5e69bc60.js";var O="la F Q -a y";const j=f("<section><div><div></div><h1></h1><div></div><div><button>Play</button></div></div></section>",14),E=f("<div></div>",2),q=e((()=>t((()=>import("./not-found.4c20534c.js")),["assets/not-found.4c20534c.js","assets/index.5e69bc60.js"]))),x=e=>{const[t,i]=r(),[,f]=c(),x=n(),B=a(),N=u(),R=o(),T=p((()=>{var r;const c=decodeURIComponent(N.itemId||""),n=(()=>{switch(e.type){case A.ALBUM:return t.albums;case A.ARTIST:return t.artists;case A.PLAYLIST:return t.playlists;default:throw new Error("Wrong item type")}})()[c]||(null==(r=e.itemSelector)?void 0:r.call(e,c,t));if(!n)return null;let a=!1,u=Object.values(t.tracks).filter((t=>!!n.trackIds.includes(t.id)&&(e.showTrackIndex&&!a&&void 0!==t.trackNo&&(a=!0),!0)));const{sortTrackByKey:o}=e;o&&(u=$(u,o));const p=u.map((e=>e.id));return{isUnkownOrFavorite:c===y||c===I,item:n,trackIds:p,atLeastOneTrackHasNo:a}})),U=()=>{var e;f.playTrack(0,(null==(e=T())?void 0:e.trackIds)||[])},C=t=>{const r=T();if(!r)return;const{trackIds:c}=r;x.show([{name:"Add to queue",action:()=>f.addToQueue(c)},{name:"Add to playlist",action:()=>B.addToPlaylists.show({trackIds:c})},{name:"Remove from the library",action:()=>{i.remove(r.item.id,e.type),R("/")}}],t.target,{anchor:!0,preferredAlign:{horizontal:"right"}})},D=T;return s(k,{get when(){return T()},get fallback(){return s(q,{})},get children(){return s(v,{get title(){return`${D().item.name||""}`},get topBar(){return e.title},scrollable:!0,get children(){return[(()=>{const t=j.cloneNode(!0),r=t.firstChild,c=r.firstChild,n=c.nextSibling,a=n.nextSibling,u=a.nextSibling,o=u.firstChild,p=o.firstChild;return d(t,s(l,{get item(){return D().item},get class(){return"Wc"}}),r),d(c,(()=>{var t;return null==(t=e.label)?void 0:t.call(e,D().item)})),d(n,(()=>D().item.name)),d(a,s(_,{get each(){var t;return(null==(t=e.info)?void 0:t.call(e,D().item))||[]},children:e=>(()=>{const t=E.cloneNode(!0);return d(t,e),t})()})),o.$$click=U,d(o,s(m,{icon:"play"}),p),d(u,s(h,{icon:"moreVertical",title:"Add to..",onClick:C}),null),b((e=>{const p="-C -K -G -M -S fa -y _c",s="-J -F -S -V ha Yc",i=O,v="la A L W x Xc",d=O,l="ka Zc",_="na F Q -a -Y oa d q qa",m=!T().trackIds.length;return p!==e.t&&(t.className=e.t=p),s!==e.u&&(r.className=e.u=s),i!==e.o&&(c.className=e.o=i),v!==e.p&&(n.className=e.p=v),d!==e.i&&(a.className=e.i=d),l!==e.v&&(u.className=e.v=l),_!==e.l&&(o.className=e.l=_),m!==e._&&(o.disabled=e._=m),e}),{t:void 0,u:void 0,o:void 0,p:void 0,i:void 0,v:void 0,l:void 0,_:void 0}),t})(),s(g,{get showIndex(){return D().atLeastOneTrackHasNo},get items(){return D().trackIds},additionalMenuItems:(t,r)=>{var c;return(null==(c=e.additionalTrackMenuItems)?void 0:c.call(e,D().item,t,r))||[]},get fallback(){return s(w,{message:"Nothing here"})}})]}})}})};i(["click"]);export{x as default};
